GGXXNET Ver1.20-3 (Last Update:08/05/03)

【概要】
　Windows版 GuiltyGearXX #Reloadでネット対戦を行うためのツールです。

【更新履歴】
  2008/05/03
    Ver1.20-3
　　・デッドアングルカウンターに関する同期ズレ修正
    ・ソート不具合修正
　　・ランク計算を戻した＋微調整

  2008/03/15
    Ver1.20-2
　　・観戦中に無条件で乱入できる不具合
    ・Buffering中に×ボタンでキャンセルできるようにした
　　・ロビーで対戦可能と観戦可能を色分け
　　・ロビーで観戦者数が安定しない不具合
　　・通信データの軽量化
　　・iniファイルにIgnoreSlowConnectionsを復活（default=1）
　　・iniファイルにMaxPacketSizeを追加（default=256）
　　・ドライブルートにlog.txtが出力される不具合

　2008/02/10
　　Ver1.20
　　・観戦機能対応
　　・乱入デモ表示
　　・同一IPを区別できない不具合
　　・名前やコメントが正しく表示されない問題（名前やコメントにステータスが表示されたりする現象）
　　・Ignore Slow Connectionを削除(オプションである必要性が感じられないのでtrueで固定します)

　2007/09/26
　　Ver1.15-3
　　・同名のNoresが大量に発生する現象、自分がロビーに見えてしまう現象
　　・nodelistで対戦できなくなる不具合
　　・別lobbyのノードが追加されてしまう不具合

　2007/09/19
　　Ver1.15-2
　　・UDP Hole Punchingの実験
　　　お互いNoRes同士だった人が対戦可能になるかも知れません。
　　　但し、双方から接続可能な仲介ノードがロビーに必要です。
　　　Ver1.15-2同士で無いと機能しません。
　　・ジャスティスのN.B.による同期ズレ対策
　　・リプレイの親ディレクトリカーソル記憶

　2007/09/11
　　Ver1.15
　　・EX関連の同期ずれ対策
　　・試合後のフリーズ対策
　　・クラッシュの可能性を修正
　　・ソート（Ex, Count）追加
　　・iniファイルでウインドウサイズ変更

　2007/09/05
　　Ver1.14
　　・EX関連の同期ずれ対策
　　・総試合数表示

　2007/09/02
　　Ver1.13
　　・iniファイルにウインドウのデフォルト位置設定
　　・リプレイ早送り（再生中に○ボタン）
　　・Fランク, Sランクにポイント制限を設定
　　・Enable ExCharacterの仕様変更
　　　双方がEnable ExCharacter有効の場合、Exキャラを選択可能
　　　双方またはどちらかがEnable ExCharacter無効の場合、通常の対戦となる
　　　但し、1.12-3以前とはEx設定が異なると対戦不能（従来とおりStatusがEx Enable/Disableとなる）
　　・透明人間バグ対策
　　・拒否コード拡張

  2007/07/25
    Ver1.12-3
　　・ロビーの仕様をver1.11-2以前に戻した
      （ver1.11系と互換がとれますが、1.12、1.12-2とは互換ありません）

  2007/07/21
    Ver1.12-2
　　・PING送信間隔修正

  2007/07/21
    Ver1.12
　　・GGモードが原因で同期が取れなかった問題
　　・ピクセルシェーダーが有効時の不具合
　　・?ランクを起動時に強制的に初期化。スコア集計を行わないようにし、
　　　とりあえずはランクバグ、クラッシュ等は解消されたはず。
　　・ロビーの仕様を変更
　　　対戦終了、ロビーの入りなおし等でプレイヤー情報をリセットしない。
　　　その代わり一定時間NoResponse状態が続いた場合、リストから削除
　　・iniファイルサポート(詳細は後述)
　　・palファイルのドラッグ＆ドロップ
　　　（現在選択しているキャラのパレットの色が置き換わる。キャラの自動判別は不可能）
    ・拒否／被拒否ユーザーはソートの優先度を下げた

  2007/06/29
    Ver1.11-2
　　・スレッドの優先度を戻してみた
　　・アイコン・文字を16bitカラーに対応

  2007/06/26
    Ver1.11
　　・ストーリーモード等の音声がノイズ化してる問題
    ・1.10で混入した色々な不具合
　　・フォント描画されない問題
　　・ロビーで選択項目がハイライトされない問題
　　・ver1.08b以降のリプレイの互換性維持
　　・ランクスコア計算の問題
　　・一部の環境でPing値が大きくなる・対戦中のラグがひどい（怪しいところを直しただけで改善確認できず）
　　・リプレイでディレクトリ移動するとカーソルが消える問題

  2007/06/24
    Ver1.10
    ・特定のプレイヤーの拒否機能追加
　　・対戦ラウンドの変更（乱入先の設定に従う）
　　・名前に日本語を使用可能
　　・自己PRメッセージ使用可能
　　・ロビー画面でL1／R1ページ移動対応
　　・lobbyScriptの半角スペースなどを無視するようにした
　　・同期ズレ対策
　　・Mission > Replayで初期化されてなかったバグ修正
　　・途中までのリプレイでも保存するようにした
　　・カーソル記憶
　　・カラーエディットがGGXX本体とリアルタイムに連動するようにした
　　・FPSとバージョン表示

　2007/05/15
　　Ver1.09-4
　　・一部の環境でCPUが100%になってしまう問題

　2007/05/11
　　Ver1.09-3
　　　・通信関連も以前の実装に戻した。

　2007/05/09
　　Ver1.09-2
　　　・ロビー関連を元に戻した。

　2007/05/09
　　Ver1.09
　　　・Ignore Mismatch Nodeが機能していない不具合修正

　　　・同期チェック追加
　　　　今回から同期チェックを行ってますので、
　　　　ゲームの状態がずれたまま進行することはありません。
　　　　ずれた場合画面中央にSYNC ERRORと表示され一定時間でロビーに戻ります。

　　　・同期ズレ対策（FPU演算でCWが不定だった問題）

　　　・ノードリストファイルの不具合修正

　　　・リプレイの階層表示（ディレクトリの認識）

　2007/04/22
　　Ver1.08beta
　　　・ポート０対応（TCPを使用しない）

　2007/04/19
    Ver1.07
　　　・一部の乱数の同期が取れない問題（ファウスト、ザッパ、チップ等）

　2007/04/17
    Ver1.06
      ・複数のスクリプトアドレス登録

　　　・テキストファイルからのノードリストの取得
　　　　今までのようにcgiを介して相手を探すのではなく、
　　　　ノードリストに記述した相手とだけ対戦可能です。
　　　　身内だけでやりたい場合、わざわざcgiをセットアップする必要がなくなります。
　　　　興味ない人は今までとおりcgiでokです。

      ・同期ズレ対策
　　　　乱数の同期処理を大きく変えた。
　　　　その弊害として今までのリプレイが再生できなくなった。
　　　　そもそもいままでのリプレイは対戦と同様、同期ズレの問題を抱えている為、
　　　　ゲームの状態次第で正しく再現されていなかった。

	＊ズレが完全に無くなったわけではない（乱数の影響の多いキャラでズレやすい）

　2007/04/11
    Ver1.05
      ・60fpsをキープできない接続を拒否するオプション「Deny Slow Connections」追加。
　　　・ロビー画面のソート機能
　　　・同期ズレ対策（まだずれてる…）

　2007/04/08
    Ver1.04
      ・ロボカイ、エディのパレットが反映されない不具合
　　　・同期ズレ対策（直ってないかも…）

　2007/04/06
    Ver1.03
      ・ロビーの内部処理をかなり変えた（どうなるか判らんので稼動させて様子見）
　　　・キャラセレ直後に切れていた問題（少なくともオフライン環境では問題なし）
　　　・金黒キャラ性能になってしまう問題（これもオフライン環境では再現していないので様子見）
　　　・ランク見直し
　　　・ラウンドの節目で切れていた問題
　　　・相手がAuto Connect Wait時間中だったらNot Readyと表示されるようにした。
　　　・リプレイが保存されていないことがある問題を修正。

　2007/04/03
    Ver1.02
      ・接続失敗軽減（未確認だがマシにはなってるはず）
　　　・ディレイ、オートコネクトウェイト復活
　　　・ミスマッチノードのディレイやEX有効／無効を表示した
　　　・ノードをリセットする機能を追加
　　　・ロビー画面で相手の連勝数を表示
　　　・ミスマッチノードを無視するオプション追加
　　　・rankの調整
　　　・トリップ邪魔なので4桁にした

　2007/04/02
　　Ver1.01
　　　・対戦中に他からの接続で切断してしまう不具合（動作未確認）
　　　・無意味・不要と思われるオプションを削除（ディレイは４固定で様子を見ます）
　　　・バージョンエラーで相手のバージョンを表示
　　　・ggxxのウインドウがバックグラウンドにあっても処理を進めるようにした
　　　・connect時の処理を変えてみた（まだたまに切断されてますが…）
　　　・ロビーcgiの不具合修正
　　　・rankの上昇条件を緩くした

　2007/04/01
　　Ver1.00
      公開

　2007/01/07
    開発着手


【ファイル説明】
　ggxxnet_readme.txt･･････････････このファイル
　ggxxnet.dll･････････････････････機能追加する為のＤＬＬ
　ggxxnet_patcher.exe･････････････ggxx.exe改変パッチ
　ggxxnet_config.exe･･････････････ネット対戦機能の設定ツール
　ggnlobby.cgi････････････････････ロビーcgi（普通は必要ありません）

【インストール】
　１．GGXX#Rがインストールされているディレクトリに圧縮ファイルの内容を展開します。

　２．ggxxnet_patcher.exeを実行し正常終了のメッセージが表示されることを確認します。
　　　※ここで生成されるggxx.OLDは書き換え前のプログラムファイル

　３．ggxxnet_config.exeにて各種設定を行います。（後述）


【ネット対戦を行う】
　１．ggxx.exeを起動します。（ggxx.exe初回起動のブロッキング解除確認では解除するを選択してください）

　２．MENU画面 > OPTION > GAME OPTIONSでSHORT CUTをONに設定してください。
　　　EXIT > GO BACK > QUITで一旦タイトルに戻り、再度MENU画面に入りなおすと
　　　VS NETとREPLAYの項目が追加されています。

　３．VS NETを選択するとVS NET画面に移行し、およそ２秒前後で対戦相手一覧が表示されます。

　４．相手を選び決定ボタンを押しメニューからPlayGameを選択するか、相手から接続されると対戦が始まります。

　５．対戦が終了すると自動的にリプレイが保存されます。
　
　・ネット対戦ルール
　　①３or５ラウンド９９秒に固定されます
　　②金キャラ、黒キャラによる性能変化はありません。
　　③GGモードがOFFに固定されます。
　　④接続した側が1Pになります。

  ・RANKについて
　　プレイヤーは戦績に応じてランク付けされます。
　　適切な対戦相手の選択の目安としてください。

　・PINGについて
　　ミリ秒単位でノードとのネットワークの速度を表します。
　　基本的に小さいほど快適に対戦が可能です。
　　基準値を上回るノードはSTATUSがNGとなり接続できなくなります。

　・STATUSについて

　　　　Idle
　　　　　対戦可能です

　　　　Busy
          他のノードと対戦中です
	
	Busy(Casting) [暗緑色表示]
	　観戦可能ですがまだ試合が始まっていない状態です。

	Busy(Casting) [明緑表示]
	　観戦可能です。

　　　　Watch  [灰色表示]
　　　　　観戦中のため接続できません。

　　　　Watch  [白色表示]
　　　　　観戦中ですが乱入が許可されています。
　　　　　（ConfigのWatch -> Allow Intrusionにより設定可能）

　　　　No Response
          VSNET画面にいないか、ゲーム自体を終了しています

　　　　Delay?
　　　　　Delay Frameの設定値が異なる

　　　　Version Error
          相手のGGXXNETのバージョンに互換性が無い
　　　　  通信自体に互換性がないとリストにすら表示されません
　　　　
　　　　Not Ready
          相手がまだ接続を受け付けていません
　　　　　・相手がメニューを開いているとき
　　　　　・試合終了直後３秒程度

　　　　Ping Over
          PING値が規定値を上回っています。
          
　　　　　Delay Frame = 1	 30ms以上
	  Delay Frame = 2	 63ms以上
	  Delay Frame = 3	 96ms以上
	  Delay Frame = 4	129ms以上
	  Delay Frame = 5	162ms以上
	  Delay Frame = 6	195ms以上
　　　　
　　　　Denied
          そのプレイヤーから拒否されています。

　・ソート機能
　　←→でソート方法を選択し、△ボタンでソート可能。

  ・ノードリスト
　　主にロビースクリプトを使用せずに身内で対戦したい場合に利用します。
　　ConfigのLobbyScriptAddressにnodelist.txtと入力します。（相対・絶対パスでは認識されません）
　　ggxx.exeと同じディレクトリにnodelist.txtを作成し、
　　IPアドレス:ポート番号の書式で対戦相手のノードを記述します。
　　自分のノードは記述する必要はありません。

    例）
　　127.0.0.2:1192
　　127.0.0.3:14562

　・拒否機能
　　任意のプレイヤーからの接続を拒否します。
　　
　　１．ロビーより拒否したいプレイヤーを選択し、決定ボタンを押します。
　　
　　２．表示されたメニューからdeny this playerを選択します。
　　　　拒否しているプレイヤーは名前が赤く表示されます。
　　
　　３．逆に拒否しているプレイヤーに接続を許可したい場合、
　　　　Permit this playerを選択すると拒否を解除できます。

【リプレイ鑑賞】
　１．MENU画面からREPLAYを選択し、決定ボタンで再生します。

　２．ggxx上でリプレイの削除はできません。対象の*.rpyファイルを削除してください。

　・再生中断
　　リプレイ再生中に×ボタンを押すと再生を中断し、REPLAY選択画面に戻ります。

　・早送り
　　リプレイ再生中に○ボタンを押すと早送り再生できます。

【コンフィグ】
　<Profile>
　　UserName			: プレイヤーの名前を英数字のみで入力します。

    TripKey			: プレイヤー名の騙りや重複を防止するためのトリップのキーを入力します。
				　不要であれば空白でも問題ありません。

　　Edit Message		: 自己PRメッセージを編集します。

　<Network>
　　Enable Network		: ネット対戦機能を有効にします。（通常ON）

　　Enable ExCharacters		: ネット対戦でExキャラ・クリフ・ジャスティスが使用可能になります。
				　双方がEnable ExCharacter有効の場合、Exキャラを選択可能
　　　　　　　　　　　　　　　　　双方またはどちらかがEnable ExCharacter無効の場合、通常の対戦となる
　　　　　　　　　　　　　　　　　但し、1.12-3以前とはEx設定が異なると対戦不能（従来とおりStatusがEx Enable/Disableとなる）

　　Port			: 開放されたポートを指定します。

　　Delay Frame			: パッドの入力が反映されるまでの遅延時間を1/60秒単位で指定します。
				　[Enable Network]がONの時、少なくとも1フレームのディレイが発生します。
				　ディレイ無しでオフラインプレイする場合[Enable Network]をオフにします。

    Game Rounds			: 対戦ラウンドを設定します。
				　設定が異なる場合、乱入した側が相手のルールに従います。

  <Watch>
    Enable Broadcast            : 観戦機能を有効にします。
　　　　　　　　　　　　　　　　　Offであれば相手がOnでも観戦されることはありません。
　　
    Allow Intrusion             : 観戦中の乱入を許可します。
　　
    Save Replay                 : 観戦したReplayを保存します。（replay/watch以下に保存）

　　Max Relay Node              : 対戦中の直接接続可能な観戦者数を指定します。
　　　　　　　　　　　　　　　　　対戦が重たい場合、この値をできるだけ少なくしてください。
　　　　　　　　　　　　　　　　　観戦中は指定した値＋２の観戦者を受け入れます。

　<Others>
    Show Invalid Combo	  	: コンボが成立しない場合、BEATを暗く表示します。

　　Show GGXXNET Version & FPS	: GGXXNETのバージョンとFPSを表示します。
　　　　　　　　　　　　　
　<Lobby Script/Text Address>	: ロビーcgiのURLまたはノードリストファイル名を指定します。(10個までアドレス登録可)

　<Color Edit>			: カラーパレットをエディット可能です。
				　palディレクトリ下にパレットファイルが作成されます。
				　
				　ggxx.exeを起動していて該当するパレットが使われている場合
				　ggxx.exe側に変更したカラーがリアルタイムに反映されます。
				　これを利用するとconfigに表示されない画像の色の編集が可能です。

				　*.palファイルをダイアログにドラッグ＆ドロップすると、
				　現在選択しているキャラのパレットの色が置き換わります。
				　
【iniファイルについて】
　プログラムの詳細に関わる設定を行います。
　存在しなければggxx.exeの終了時に自動的に生成されます。

　[Font]
　FontName		：ロビー等に使用するフォント名を指定します
　FontSize		：ロビー等に使用するフォントサイズを指定します
　Antialias		：ロビー等に使用するフォントのアンチエイリアス 0=無効, 1=有効

　[Network]
　ReceiveThreadPriority	：受信スレッド優先度 -1=低, 0=通常, 1=高
　ReceiveThreadInterval	：受信スレッド巡回間隔 ミリ秒単位
　ReceiveThreadMethod	：受信スレッドタイプ 0=通常, 1=新
  IgnoreSlowConnections	：通信速度が一定以上のノードをPingOverとして対戦不能にする 0=無効 1=有効(default)
  MaxPacketSize		：通信の最大パケットサイズを指定。 byte単位

　[Window]
　PosX			：画面左端を 0 としてウインドウモードでのデフォルトX位置を設定します(-999にすると特に設定しません)
　PosY			：画面上端を 0 としてウインドウモードでのデフォルトY位置を設定します(-999にすると特に設定しません)
　ZoomX			：等倍を 1.0 としてウインドウモードでのデフォルト幅を設定します(1.0にすると特に設定しません)
　ZoomY			：等倍を 1.0 としてウインドウモードでのデフォルト高さを設定します(1.0にすると特に設定しません)

　＊特にNetworkの項目は設定によってはまともに動かなくなることもありえるので、
　　自己責任でお願いします。
　　iniファイルを削除してしまえばデフォルトに戻ります。

【ロビーcgiの設置】
　ggnlobby.cgiを通常のcgiと同様にサーバー上に配置してください。
　パーミッションは700で問題ないと思います。

【Ｑ＆Ａ・トラブルシューティング】
　Ｑ１．ggxxnet_patcher.exeを実行すると「CRCが一致しません」のメッセージが表示されます
　Ａ１．元のggxx.exeに何らかの改変が行われているか、既にパッチ当てが完了しているものと思われます。
　　　　GGXX#Rを再インストールすれば解決するはずです。
        ありがちなミスとして既に前のVersionのパッチがあたっているggxx.exeに対して
　　　　新しいパッチを適用しようとすると発生します。オリジナルのggxx.exeに対してパッチを当てなおしてください。

　　　　＊海外版には対応していません。

　Ｑ２．GGXX#Rを元の状態に戻すには？
　Ａ２．パッチ済みのggxx.exeを削除し、ggxxnet_patcher.exeが生成したggxx.OLDをggxx.exeにリネームしてください。

　Ｑ３．VSNET画面でSTATUS = PingOverが多すぎる
　Ａ３．ネットワークの速度に対してDelay Frameが小さすぎることが考えられます。
　　　　接続可能なノードが現れるまでDelay Frameを増やしてみてください。
　　　　ただし、増やしすぎると入力の応答が遅くなります。

　Ｑ４．VSNET画面でノードがなにも表示されない
　Ａ４．以下の点を確認してください。
　　　①IE等のブラウザでインターネットにアクセス可能なこと。
　　　②ネットコンフィグのServerScriptAddressが正しく入力されていること。
　　　③ServerScriptAddressに設定したスクリプトが稼動していること
　　　（サーバーダウン、スクリプトが削除されている等により稼動していない可能性があります）

　Ｑ５．ノードに接続後、すぐに切断されてしまう。（必ず発生する場合）
　Ａ５．ネットワークの設定に問題があるかもしれません。以下の対策を行ってみてください。
　　　①ルータ側のアドレス変換設定でPCに使用するUDPポートを割り当ててください。（ルータ有りの場合）
　　　②ルータ側のパケットフィルタが機能していないことを確認してください。（ルータ有りの場合）
　　　③ルータ側のポート開放設定
　　　④セキュリティソフト等のポート開放、フィルタ機能の設定、停止
　　　
　Ｑ６．ノードに接続後、すぐに切断されてしまう。（まれに発生する場合）
　Ａ６．仕様です。
　　　　同時に２人のユーザーが接続するとどちらかが拒否されることになります。

  Ｑ８．リプレイを再生するとEND OF REPLAYと表示される
　Ａ８．最後まで再生したが同期ズレにより決着がつかず試合が終わらない、
　　　　又は対戦中にESCキーや回線障害などで試合が中断された場合が考えられます。
        ちなみにソフトリセットされた場合は「SOFT RESET BY PLAYER1or2」と表示されます。

  Ｑ９．Idleの相手にPlay gameを選択しても接続されない場合がある
　Ａ９．こちらではpingが許容範囲内でも相手はオーバーしている等が考えられます。
　　　　
  Ｑ10．フォントが小さい／大きい・文字化けしている
　Ａ10．iniファイルに明示的に使用するフォントを指定してください。
　　　　詳しくは前述の【iniファイルについて】を参照してください。

　Ｑ11. カラーエディットでブリとザッパの画像がおかしい。
　Ａ11. 仕様です。
　　　　普通に画像データを持ってくると未使用データ（と思われる）がID=0に入ってます。
　　　　IDのコンボボックスをいじると使用されている画像が表示されるはずです。

【ソフトウェア種別】
　フリーウェアです。
　再配布は可能ですがアーカイブの内容を変更しないでください。
　万一販売元からのクレーム等があった場合は配布を禁止します。


【免責事項】
　GGXXNETによって発生した、いかなる損害にも開発者は責任を負わないものとします。
　自己責任にて使用してください。


以上
